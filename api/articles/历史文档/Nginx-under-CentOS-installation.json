{"title":"CentOS下Nginx支持SSL协议的编译安装","uid":"104a9aae1e5de115cd62851ef23d3bb9","slug":"历史文档/Nginx-under-CentOS-installation","date":"2020-07-04T10:24:35.000Z","updated":"2021-06-22T04:53:56.621Z","comments":true,"path":"api/articles/历史文档/Nginx-under-CentOS-installation.json","keywords":null,"cover":"https://img.upuphub.com/S8xniL.jpg","content":"<h2 id=\"Nginx及其衍生的其他相关优秀开源产品\"><a href=\"#Nginx及其衍生的其他相关优秀开源产品\" class=\"headerlink\" title=\"Nginx及其衍生的其他相关优秀开源产品\"></a>Nginx及其衍生的其他相关优秀开源产品</h2><ul>\n<li><a href=\"http://nginx.org/\">NGINX</a> 是开源、高性能、高可靠的 Web 和反向代理服务器</li>\n<li><a href=\"https://tengine.taobao.org/\">Tengine</a> Tengine是由淘宝网发起基于Nginx的Web服务器项目</li>\n<li><a href=\"https://openresty.org/cn/\">OpenResty</a> OpenResty® 是一个基于 Nginx 与 Lua 的高性能 Web 平台</li>\n</ul>\n<h2 id=\"下载Nginx稳定版包并解压\"><a href=\"#下载Nginx稳定版包并解压\" class=\"headerlink\" title=\"下载Nginx稳定版包并解压\"></a>下载Nginx稳定版包并解压</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> http://nginx.org/download/nginx-x.x.x.tar.gz\n<span class=\"token function\">tar</span> zxvf nginx-x.x.x.tar.gz\n<span class=\"token builtin class-name\">cd</span> nginx-x.x.x<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<span id=\"more\"></span>\n\n<h2 id=\"补全需要的库依赖\"><a href=\"#补全需要的库依赖\" class=\"headerlink\" title=\"补全需要的库依赖\"></a>补全需要的库依赖</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> gcc-c++\nyum <span class=\"token function\">install</span> -y pcre pcre-devel\nyum <span class=\"token function\">install</span> -y zlib zlib-devel\nyum <span class=\"token function\">install</span> -y openssl openssl-devel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"执行编译安装\"><a href=\"#执行编译安装\" class=\"headerlink\" title=\"执行编译安装\"></a>执行编译安装</h2><p>所有文件放在同一个位置,便于统一管理</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure --prefix<span class=\"token operator\">=</span>/usr/local/nginx  <span class=\"token punctuation\">\\</span>\n--conf-path<span class=\"token operator\">=</span>/usr/local/nginx/etc/nginx.conf  <span class=\"token punctuation\">\\</span>\n--user<span class=\"token operator\">=</span>nginx --group<span class=\"token operator\">=</span>nginx  <span class=\"token punctuation\">\\</span>\n--error-log-path<span class=\"token operator\">=</span>/usr/local/nginx/nginxlog/error.log  <span class=\"token punctuation\">\\</span>\n--http-log-path<span class=\"token operator\">=</span>/usr/local/nginx/nginxlog/access.log  <span class=\"token punctuation\">\\</span>\n--pid-path<span class=\"token operator\">=</span>/usr/local/nginx/pids/nginx.pid  <span class=\"token punctuation\">\\</span>\n--lock-path<span class=\"token operator\">=</span>/usr/local/nginx/locks/nginx.lock  <span class=\"token punctuation\">\\</span>\n--with-http_ssl_module  <span class=\"token punctuation\">\\</span>\n--with-http_stub_status_module  <span class=\"token punctuation\">\\</span>\n--with-http_gzip_static_module  <span class=\"token punctuation\">\\</span>\n--http-client-body-temp-path<span class=\"token operator\">=</span>/usr/local/nginx/tmp/client  <span class=\"token punctuation\">\\</span>\n--http-proxy-temp-path<span class=\"token operator\">=</span>/usr/local/nginx/tmp/proxy  <span class=\"token punctuation\">\\</span>\n--http-fastcgi-temp-path<span class=\"token operator\">=</span>/usr/local/nginx/tmp/fastcgi  <span class=\"token punctuation\">\\</span>\n--http-uwsgi-temp-path<span class=\"token operator\">=</span>/usr/local/nginx/tmp/uwsgi  <span class=\"token punctuation\">\\</span>\n--http-scgi-temp-path<span class=\"token operator\">=</span>/usr/local/nginx/tmp/scgi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>编译结果</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Configuration summary\n  + using system PCRE library\n  + using system OpenSSL library\n  + using system zlib library\n\n  nginx path prefix: <span class=\"token string\">\"/usr/local/nginx\"</span>\n  nginx binary file: <span class=\"token string\">\"/usr/local/nginx/sbin/nginx\"</span>\n  nginx modules path: <span class=\"token string\">\"/usr/local/nginx/modules\"</span>\n  nginx configuration prefix: <span class=\"token string\">\"/usr/local/nginx/etc\"</span>\n  nginx configuration file: <span class=\"token string\">\"/usr/local/nginx/etc/nginx.conf\"</span>\n  nginx pid file: <span class=\"token string\">\"/usr/local/nginx/pids/nginx.pid\"</span>\n  nginx error log file: <span class=\"token string\">\"/usr/local/nginx/nginxlog/error.log\"</span>\n  nginx http access log file: <span class=\"token string\">\"/usr/local/nginx/nginxlog/access.log\"</span>\n  nginx http client request body temporary files: <span class=\"token string\">\"/usr/local/nginx/tmp/client\"</span>\n  nginx http proxy temporary files: <span class=\"token string\">\"/usr/local/nginx/tmp/proxy\"</span>\n  nginx http fastcgi temporary files: <span class=\"token string\">\"/usr/local/nginx/tmp/fastcgi\"</span>\n  nginx http uwsgi temporary files: <span class=\"token string\">\"/usr/local/nginx/tmp/uwsgi\"</span>\n  nginx http scgi temporary files: \"/usr/local/nginx/tmp/scgi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>执行安装</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"安装后处理\"><a href=\"#安装后处理\" class=\"headerlink\" title=\"安装后处理\"></a>安装后处理</h2><p>查看文件结构</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /usr/local/nginx/\ntree\n<span class=\"token builtin class-name\">.</span>\n├── etc\n│   ├── fastcgi.conf\n│   ├── fastcgi.conf.default\n│   ├── fastcgi_params\n│   ├── fastcgi_params.default\n│   ├── koi-utf\n│   ├── koi-win\n│   ├── mime.types\n│   ├── mime.types.default\n│   ├── nginx.conf\n│   ├── nginx.conf.default\n│   ├── scgi_params\n│   ├── scgi_params.default\n│   ├── uwsgi_params\n│   ├── uwsgi_params.default\n│   └── win-utf\n├── html\n│   ├── 50x.html\n│   └── index.html\n├── nginxlog\n├── pids\n└── sbin\n    └── nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>完善Nginx目录结构</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> -pv /usr/local/nginx/tmp/<span class=\"token punctuation\">&#123;</span>client,proxy,fastcgi,uwsgi,scgi<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"Nginx启动和监听\"><a href=\"#Nginx启动和监听\" class=\"headerlink\" title=\"Nginx启动和监听\"></a>Nginx启动和监听</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 启动</span>\n/usr/local/nginx/sbin/nginx\n<span class=\"token comment\"># 检查是否启动</span>\nss -tnlp <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> :80<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>","text":"Nginx及其衍生的其他相关优秀开源产品 NGINX 是开源、高性能、高可靠的 Web 和反向代理服务器 Tengine Tengine是由淘宝网发起基于Nginx的Web服务器项目 OpenResty OpenResty® 是一个基于 Nginx 与 Lua 的高性能 Web ...","link":"","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"Nginx","slug":"Nginx","count":1,"path":"api/categories/Nginx.json"}],"tags":[{"name":"Liunx","slug":"Liunx","count":3,"path":"api/tags/Liunx.json"},{"name":"Nginx","slug":"Nginx","count":1,"path":"api/tags/Nginx.json"},{"name":"Server","slug":"Server","count":1,"path":"api/tags/Server.json"},{"name":"CentOS","slug":"CentOS","count":2,"path":"api/tags/CentOS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Nginx%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E7%9A%84%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E4%BC%98%E7%A7%80%E5%BC%80%E6%BA%90%E4%BA%A7%E5%93%81\"><span class=\"toc-text\">Nginx及其衍生的其他相关优秀开源产品</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BDNginx%E7%A8%B3%E5%AE%9A%E7%89%88%E5%8C%85%E5%B9%B6%E8%A7%A3%E5%8E%8B\"><span class=\"toc-text\">下载Nginx稳定版包并解压</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A1%A5%E5%85%A8%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%93%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">补全需要的库依赖</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%A7%E8%A1%8C%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">执行编译安装</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E5%90%8E%E5%A4%84%E7%90%86\"><span class=\"toc-text\">安装后处理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Nginx%E5%90%AF%E5%8A%A8%E5%92%8C%E7%9B%91%E5%90%AC\"><span class=\"toc-text\">Nginx启动和监听</span></a></li></ol>","author":{"name":"王小妖","slug":"blog-author","avatar":"http://img.upuphub.com/jW5tou.jpg","link":"/","description":"【啾啾】: 小妖养的小猫猫 </br> 【Lily】: 小妖的大哥</br>【小妖】: 搞后端的技术菜鸟 </br></br>做点记录,省的以后忘了","socials":{"github":"https://github.com/iWzl","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Java Microbenchmark Harness微基准测试基础","uid":"d3c057a0b9d8bdcf70200f0b91e6e914","slug":"历史文档/Java-Microbenchmark-Harness-Basic","date":"2020-07-07T10:24:35.000Z","updated":"2021-06-22T04:53:24.032Z","comments":true,"path":"api/articles/历史文档/Java-Microbenchmark-Harness-Basic.json","keywords":null,"cover":"https://img.upuphub.com/XHreL2.jpg","text":" If you cannot measure it, you cannot improve it. –Lord Kelvin Java Microbenchmark Harness 是专门进行代码的微基准测试的一套工具API。 为应用提供了数据支持，是评价和比较方法好坏的基准。一...","link":"","photos":[],"count_time":{"symbolsCount":"8.5k","symbolsTime":"8 mins."},"categories":[{"name":"系统调优","slug":"系统调优","count":2,"path":"api/categories/系统调优.json"}],"tags":[{"name":"Java","slug":"Java","count":2,"path":"api/tags/Java.json"},{"name":"基准测试","slug":"基准测试","count":2,"path":"api/tags/基准测试.json"},{"name":"JMH","slug":"JMH","count":2,"path":"api/tags/JMH.json"},{"name":"系统调优","slug":"系统调优","count":2,"path":"api/tags/系统调优.json"},{"name":"基础","slug":"基础","count":1,"path":"api/tags/基础.json"}],"author":{"name":"王小妖","slug":"blog-author","avatar":"http://img.upuphub.com/jW5tou.jpg","link":"/","description":"【啾啾】: 小妖养的小猫猫 </br> 【Lily】: 小妖的大哥</br>【小妖】: 搞后端的技术菜鸟 </br></br>做点记录,省的以后忘了","socials":{"github":"https://github.com/iWzl","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}